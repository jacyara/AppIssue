(this["webpackJsonphello-express"]=this["webpackJsonphello-express"]||[]).push([[0],{182:function(e,t,a){e.exports=a(636)},636:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=a(3),u=a(13),i=a(21),m=a.n(i),s=a(17),d=a.n(s);function f(e){var t=e.value,a=e.format,n=d()(t);return n.isValid()?r.a.createElement("time",null,n.format(a)):null}f.defaultProps={format:"DD/MM/YYYY [\xe0s] HH:mm"};var E=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(o.useStyles)(p).classes;if(Object(n.useEffect)((function(){m.a.get("/abertas",{params:{id:e.projeto.id}}).then((function(e){console.log("abertas: ",e.data.result.rows),c(e.data.result.rows)}))}),[e.projeto]),!e||!l)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Grid,{alignItems:"center"},r.a.createElement(o.Cell,{size:2}),r.a.createElement(o.Cell,{size:8},r.a.createElement(o.VFlow,null,r.a.createElement("h2",{className:i.container},"Issues abertas!"),r.a.createElement(o.DataTable,{rows:l,columns:[{name:"issue",header:"#Issue",render:function(e){return e.id}},{name:"nome",header:"T\xedtulo da Issue",render:function(e){return e.nome}},{name:"data",header:"Data de cria\xe7\xe3o",render:function(e){return r.a.createElement(f,{value:e.created,format:"DD/MM/YYYY"})}},{name:"lead time",header:"Lead Time Atual",render:function(e){var t=d()(e.created),a=d()(new Date),n=d.a.duration(a.diff(t)).asDays();return r.a.createElement("span",null,Math.round(n))}}]}))),r.a.createElement(o.Cell,{size:2})))},p=function(e){return{container:{textAlign:"left","& > p":{fontSize:"1rem",lineHeight:2}}}},h=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),l=a[0],c=a[1];if(Object(n.useEffect)((function(){m.a.get("/fechadas",{params:{id:e.projeto.id}}).then((function(e){console.log("fechadas: ",e.data.result.rows),c(e.data.result.rows)}))}),[e.projeto]),!e||!l)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Grid,null,r.a.createElement(o.Cell,{size:2}),r.a.createElement(o.Cell,{size:8},r.a.createElement(o.VFlow,null,r.a.createElement("h2",null,"Issues fechadas"),r.a.createElement(o.DataTable,{rows:l,columns:[{name:"issue",header:"#Issue",render:function(e){return e.id}},{name:"nome",header:"T\xedtulo da Issue",render:function(e){return e.nome}},{name:"nome",header:"Lead Time",render:function(e){var t=d()(e.aberta),a=d()(e.fechada),n=d.a.duration(a.diff(t)).asDays();return r.a.createElement("span",null,n)}}]}))),r.a.createElement(o.Cell,{size:2})))},b=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(),s=Object(u.a)(i,2),d=s[0],f=s[1],p=Object(n.useState)({dataInicio:"09/09/2019",dataFim:"16/09/2019"}),b=Object(u.a)(p,2),j=b[0],g=b[1];if(Object(n.useEffect)((function(){m.a.get("/col",{params:{id:e.projeto.id}}).then((function(e){console.log("resp",e.data.result.rows),c(e.data.result.rows)})),m.a.get("/ipc",{params:{id:e.projeto.id,dataInicio:j.dataInicio,dataFim:j.dataFim}}).then((function(e){console.log("ipc: ",e.data),f(e.data.result.rows)}))}),[e.projeto,j.dataInicio,j.dataFim]),!e||!l||!l[0]||!d)return null;var F=[{name:"",header:"",render:function(){return r.a.createElement("span",null)}},{name:"",header:"",render:function(){return r.a.createElement("span",null)}}].concat([{name:"",header:"",render:function(){return r.a.createElement("span",null)}}]);F[0]={name:"Data In\xedcio",header:"Data In\xedcio",render:function(e){return j.dataInicio}},F[1]={name:"Data Fim",header:"Data Fim",render:function(e){return j.dataFim}},l.forEach((function(e,t){F[t+2]={name:e.nome,header:e.nome,render:function(t){return r.a.createElement("span",null,t.get(e.nome))}}}));var w=function(e){var t=d.filter((function(t){return t.coluna===e}));return 0===t.length?0:t[0].count};return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.VFlow,null,r.a.createElement(o.Grid,null,r.a.createElement(o.Cell,{size:2}),r.a.createElement(o.Cell,{size:8},r.a.createElement(o.VFlow,null,r.a.createElement(o.HFlow,null,r.a.createElement(o.DateField,{label:"Data In\xedcio",name:"inicio",onChange:function(e){g({dataInicio:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"numeric",year:"numeric"}).format(e),dataFim:j.dataFim})}}),r.a.createElement(o.DateField,{label:"Data Fim",name:"fim",onChange:function(e){return g({dataInicio:j.dataInicio,dataFim:new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"numeric",year:"numeric"}).format(e)})}})),r.a.createElement(o.DataTable,{rows:[function(){var e=new Map;return l.map((function(t){return e.set(t.nome,w(t.nome))})),console.log(e),e}()],columns:F}))),r.a.createElement(o.Cell,{size:2})),r.a.createElement(E,{projeto:e.projeto}),r.a.createElement(h,{projeto:e.projeto})))};function j(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),i=Object(u.a)(c,2),s=i[0],d=i[1];if(Object(n.useEffect)((function(){m.a.get("/kkk").then((function(e){l(e.data.res.rows)}))}),[]),!a)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.VFlow,null,r.a.createElement(o.Grid,null,r.a.createElement(o.Cell,{size:2}),r.a.createElement(o.Cell,{size:8},r.a.createElement(o.Select,{items:a,label:"Selecione a equipe \xe1gil",onChange:function(e){d(e)},itemToString:function(e){return e?e.nome:""},name:"equipes",clearable:!1})),r.a.createElement(o.Cell,{size:2})),s&&r.a.createElement(b,{projeto:s})))}function g(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.VFlow,null,r.a.createElement("br",null),r.a.createElement(o.Grid,null,r.a.createElement(o.Cell,{size:1}),r.a.createElement("h1",null,"AppIssue_")),r.a.createElement("hr",null)))}c.a.render(r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.ThemeProvider,null,r.a.createElement(g,null),r.a.createElement(j,null)))}),null),document.querySelector("#root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.d05e1917.chunk.js.map