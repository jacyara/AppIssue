(window["webpackJsonphello-express"]=window["webpackJsonphello-express"]||[]).push([[0],{179:function(e,t,n){e.exports=n(630)},630:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),u=n.n(o),l=n(12),c=n(15),s=n.n(c),m=n(16),i=n(30),f=n.n(i);function d(e){var t=e.value,n=e.format,a=f()(t);return a.isValid()?r.a.createElement("time",null,a.format(n)):null}d.defaultProps={format:"DD/MM/YYYY [\xe0s] HH:mm"};var p=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),o=n[0],u=n[1];return Object(a.useEffect)((function(){s.a.get("/abertas",{params:{id:e.projeto.id}}).then((function(e){console.log("abertas: ",e.data.result.rows),u(e.data.result.rows)}))}),[e.projeto]),e&&o?r.a.createElement(m.DataTable,{rows:o,columns:[{name:"issue",header:"#Issue",render:function(e){return e.id}},{name:"nome",header:"T\xedtulo da Issue",render:function(e){return e.nome}},{name:"nome",header:"Data de cria\xe7\xe3o",render:function(e){return r.a.createElement(d,{value:e.created,format:"DD/MM/YYYY"})}}]}):null},j=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),o=n[0],u=n[1];if(Object(a.useEffect)((function(){s.a.get("/fechadas",{params:{id:e.projeto.id}}).then((function(e){console.log("fechadas: ",e.data.result.rows),u(e.data.result.rows)}))}),[e.projeto]),!e||!o)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Issues fechadas"),r.a.createElement(m.DataTable,{rows:o,columns:[{name:"issue",header:"#Issue",render:function(e){return e.id}},{name:"nome",header:"T\xedtulo da Issue",render:function(e){return e.nome}},{name:"nome",header:"Lead Time",render:function(e){var t=f()(e.aberta,""),n=f()(e.fechada),a=f.a.duration(n.diff(t)).asDays();return r.a.createElement("span",null,a)}}]}))},b=function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),o=n[0],u=n[1],c=Object(a.useState)(),i=Object(l.a)(c,2),f=i[0],d=i[1];if(Object(a.useEffect)((function(){s.a.get("/col",{params:{id:e.projeto.id}}).then((function(e){console.log("resp",e.data.result.rows),u(e.data.result.rows)})),s.a.get("/ipc",{params:{id:e.projeto.id}}).then((function(e){console.log("ipc: ",e.data.result.rows),d(e.data.result.rows)}))}),[e.projeto]),!e||!o||!o[0]||!f)return null;var b=[{name:"",header:"",render:function(){return r.a.createElement("span",null)}}];o.forEach((function(e,t){return b[t]={name:e.nome,header:e.nome,render:function(t){return r.a.createElement("span",null,t.get(e.nome))}}}));var E=function(e){var t=f.filter((function(t){return t.coluna===e}));return 0===t.length?0:t[0].count};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.DataTable,{rows:[function(){var e=new Map;return o.map((function(t){return e.set(t.nome,E(t.nome))})),console.log(e),e}()],columns:b}),r.a.createElement("h2",null,"Issues abertas!"),r.a.createElement(p,{projeto:e.projeto}),r.a.createElement(j,{projeto:e.projeto}))};function E(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],o=t[1],u=Object(a.useState)(),c=Object(l.a)(u,2),i=c[0],f=c[1];if(Object(a.useEffect)((function(){s.a.get("/kkk").then((function(e){o(e.data.res.rows)}))}),[]),console.log(n),!n)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.VFlow,null,r.a.createElement(m.Select,{items:n,onChange:function(e){f(e)},itemToString:function(e){return e?e.nome:""},name:"equipes",clearable:!1}),i&&r.a.createElement(b,{projeto:i})))}u.a.render(r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null))}),null),document.querySelector("#root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.c4e104fe.chunk.js.map