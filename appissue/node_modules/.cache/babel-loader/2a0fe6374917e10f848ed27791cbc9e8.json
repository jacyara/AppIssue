{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_popper_1 = require(\"react-popper\");\n\nvar styles_1 = require(\"../../styles\");\n\nvar string_1 = require(\"../../util/string\");\n\nvar Portal_1 = require(\"../Portal\");\n\nvar RootRef_1 = require(\"../RootRef\");\n\nvar FadeTransition_1 = require(\"../Transition/FadeTransition\");\n\nvar TooltipPopper_1 = require(\"./TooltipPopper\");\n\nfunction Tooltip(props) {\n  var text = props.text,\n      children = props.children,\n      offset = props.offset,\n      externalStyle = props.style,\n      container = props.container,\n      rest = __rest(props, [\"text\", \"children\", \"offset\", \"style\", \"container\"]);\n\n  var child = react_1.default.Children.only(children);\n  var theme = styles_1.useTheme();\n  var tooltipIdRef = react_1.default.useRef(null);\n  react_1.default.useEffect(function () {\n    tooltipIdRef.current = \"tooltip-\" + string_1.randomStr();\n  }, []);\n\n  var _a = react_1.default.useState(false),\n      visible = _a[0],\n      setVisible = _a[1];\n\n  var handleMouseEnter = function (e) {\n    setVisible(true);\n    child.props.onMouseEnter && child.props.onMouseEnter(e);\n  };\n\n  var handleMouseLeave = function (e) {\n    setVisible(false);\n    child.props.onMouseLeave && child.props.onMouseLeave(e);\n  };\n\n  var handleFocus = function (e) {\n    setVisible(true);\n    child.props.onFocus && child.props.onFocus(e);\n  };\n\n  var handleBlur = function (e) {\n    setVisible(false);\n    child.props.onBlur && child.props.onBlur(e);\n  };\n\n  if (!text) {\n    return child;\n  }\n\n  return react_1.default.createElement(react_popper_1.Manager, null, react_1.default.createElement(react_popper_1.Reference, null, function (_a) {\n    var ref = _a.ref;\n    return react_1.default.createElement(RootRef_1.RootRef, {\n      rootRef: ref\n    }, react_1.default.cloneElement(child, {\n      'aria-describedby': visible ? tooltipIdRef.current : undefined,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      onFocus: handleFocus,\n      onBlur: handleBlur\n    }));\n  }), react_1.default.createElement(FadeTransition_1.FadeTransition, {\n    in: visible\n  }, function (_a) {\n    var className = _a.className;\n    return visible && react_1.default.createElement(Portal_1.Portal, {\n      container: container\n    }, react_1.default.createElement(react_popper_1.Popper, __assign({\n      modifiers: {\n        offset: {\n          offset: \"0, \" + theme.typography.sizes.html * offset\n        },\n        preventOverflow: {\n          boundariesElement: 'window'\n        }\n      }\n    }, rest), function (_a) {\n      var ref = _a.ref,\n          style = _a.style,\n          placement = _a.placement;\n      return react_1.default.createElement(\"div\", {\n        id: tooltipIdRef.current,\n        ref: ref,\n        className: className,\n        role: 'tooltip',\n        style: __assign({}, style, {\n          zIndex: theme.zIndex.tooltip\n        }),\n        \"data-placement\": placement\n      }, react_1.default.createElement(TooltipPopper_1.TooltipPopper, {\n        text: text,\n        style: externalStyle\n      }));\n    }));\n  }));\n}\n\nexports.Tooltip = Tooltip;\nTooltip.defaultProps = {\n  placement: 'top',\n  offset: 0.25\n};","map":null,"metadata":{},"sourceType":"script"}